!function(){"use strict";var e={8623:function(e,t,n){function i(e){!function(e,t,n){if(!e.shiftKey){const s=e.key;switch(s){case"Enter":case"Escape":case"PageUp":case"PageDown":case"End":case"Home":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":t.dispatchEvent(new CustomEvent((i=`${s}Key${n}`).charAt(0).toLowerCase()+i.slice(1),{detail:e,bubbles:!0}));break;case" ":t.dispatchEvent(new CustomEvent(`spacebarKey${n}`,{detail:e,bubbles:!0}));break;default:return}}var i}(e,this,"Down")}n.r(t),n.d(t,{createLinear:function(){return D}});const s={},o=function(e){let t="abcdefghijklmnopqrstuvwxyz"[r(25)];for(let e=1;e<3;e++)t+="abcdefghijklmnopqrstuvwxyz0123456789"[r(35)];return t}();function r(e){return Math.floor(Math.random()*e)}const a={};function u(e,t,n){e.dispatchEvent(new CustomEvent("focusExit",{detail:{fromElement:t,toElement:n},bubbles:!1}))}function d(e){const t=e.target;!0===this.el.contains(t)?this.currentFocusElement=t:(window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),u(this.el,this.currentFocusElement,t),this.currentFocusElement=null)}function c(){u(this.el,this.currentFocusElement,void 0)}function l(){document.addEventListener("focusin",this.onDocumentFocusInListener),window.addEventListener("blur",this.onWindowBlurListener)}class h{constructor(e){this.el=e,this.currentFocusElement=null,this.onWidgetFocusInListener=l.bind(this),this.onDocumentFocusInListener=d.bind(this),this.onWindowBlurListener=c.bind(this),this.el.addEventListener("focusin",this.onWidgetFocusInListener)}removeEventListeners(){window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),this.el.removeEventListener("focusin",this.onWidgetFocusInListener)}}const v="data-makeup-index",f={axis:"both",autoInit:0,autoReset:null,ignoreButtons:!1,wrap:!1},m=e=>!e.hidden;function p(e){e.forEach(((e,t)=>e.setAttribute(v,t)))}function E(e){return"button"===e.tagName.toLowerCase()||"button"===e.type}function L(e){!1!==E(e.detail.target)&&!1!==this.options.ignoreButtons||(this.atStart()?this.options.wrap&&(this.index=this.filteredItems.length-1):this.index--)}function w(e){!1!==E(e.detail.target)&&!1!==this.options.ignoreButtons||(this.atEnd()?this.options.wrap&&(this.index=0):this.index++)}function b(e){let t=e.target,n=t.dataset.makeupIndex;for(;t!==this._el&&!n;)t=t.parentNode,n=t.dataset.makeupIndex;void 0!==n&&(this.index=n)}function y(e){!1!==E(e.detail.target)&&!1!==this.options.ignoreButtons||(this.index=0)}function g(e){!1!==E(e.detail.target)&&!1!==this.options.ignoreButtons||(this.index=this.filteredItems.length)}function x(){null!==this.options.autoReset&&this.reset()}function _(){this.items.forEach((e=>e.removeAttribute(v))),p(this.filteredItems),this._el.dispatchEvent(new CustomEvent("navigationModelMutation"))}class k extends class{constructor(e,t,n){this.options=Object.assign({},f,n),this._el=e,this._itemSelector=t}}{constructor(e,t,n){super(e,t,n),null!==this.options.autoInit&&(this._index=this.options.autoInit,this._el.dispatchEvent(new CustomEvent("navigationModelInit",{detail:{items:this.filteredItems,toIndex:this.options.autoInit},bubbles:!1})))}get items(){return this._el.querySelectorAll(this._itemSelector)}get filteredItems(){return Array.prototype.slice.call(this.items).filter(m)}get index(){return this._index}set index(e){e>-1&&e<this.filteredItems.length&&e!==this.index&&(this._el.dispatchEvent(new CustomEvent("navigationModelChange",{detail:{fromIndex:this.index,toIndex:e},bubbles:!1})),this._index=e)}reset(){null!==this.options.autoReset&&(this._index=this.options.autoReset,this._el.dispatchEvent(new CustomEvent("navigationModelReset",{detail:{toIndex:this.options.autoReset},bubbles:!1})))}atEnd(){return this.index===this.filteredItems.length-1}atStart(){return this.index<=0}}class I{constructor(e,t){this.model=t,this.el=e,this._keyPrevListener=L.bind(t),this._keyNextListener=w.bind(t),this._keyHomeListener=y.bind(t),this._keyEndListener=g.bind(t),this._clickListener=b.bind(t),this._focusExitListener=x.bind(t),this._observer=new MutationObserver(_.bind(t)),p(t.filteredItems),function(e){e.addEventListener("keydown",i)}(this.el),function(e){let t=null;(function(e,t="nid"){const n=`${t}${""===t?"":"-"}${o}`;s[n]=s[n]||0,e.id||e.setAttribute("id",`${n}-${s[n]++}`),e.id})(e),a[e.id]||(t=new h(e),a[e.id]=t)}(this.el);const n=t.options.axis;"both"!==n&&"x"!==n||(this.el.addEventListener("arrowLeftKeyDown",this._keyPrevListener),this.el.addEventListener("arrowRightKeyDown",this._keyNextListener)),"both"!==n&&"y"!==n||(this.el.addEventListener("arrowUpKeyDown",this._keyPrevListener),this.el.addEventListener("arrowDownKeyDown",this._keyNextListener)),this.el.addEventListener("homeKeyDown",this._keyHomeListener),this.el.addEventListener("endKeyDown",this._keyEndListener),this.el.addEventListener("click",this._clickListener),this.el.addEventListener("focusExit",this._focusExitListener),this._observer.observe(this.el,{childList:!0,subtree:!0,attributeFilter:["hidden"],attributes:!0})}destroy(){this.el.removeEventListener("keydown",i),function(e){const t=a[e.id];t&&(t.removeEventListeners(),delete a[e.id])}(this.el),this.el.removeEventListener("arrowLeftKeyDown",this._keyPrevListener),this.el.removeEventListener("arrowRightKeyDown",this._keyNextListener),this.el.removeEventListener("arrowUpKeyDown",this._keyPrevListener),this.el.removeEventListener("arrowDownKeyDown",this._keyNextListener),this.el.removeEventListener("homeKeyDown",this._keyHomeListener),this.el.removeEventListener("endKeyDown",this._keyEndListener),this.el.removeEventListener("click",this._clickListener),this.el.removeEventListener("focusExit",this._focusExitListener),this._observer.disconnect()}}function D(e,t,n){const i=new k(e,t,n);return new I(e,i)}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e=function(e,n){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=t(n);if(i&&i.has(e))return i.get(e);var s={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var a=o?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(s,r,a):s[r]=e[r]}return s.default=e,i&&i.set(e,s),s}(n(8623));function t(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,i=new WeakMap;return(t=function(e){return e?i:n})(e)}var i=[],s=document.getElementById("appender"),o=document.querySelectorAll(".widget"),r=document.querySelectorAll(".console"),a=document.getElementById("wrap"),u=[{},{autoInit:-1,autoReset:-1},{autoInit:-1,autoReset:-1}];s.addEventListener("click",(function(){o.forEach((function(e){var t=e.querySelector("ul"),n=document.createElement("li");n.innerText="Item ".concat(parseInt(t.querySelectorAll("li").length,10)),t.appendChild(n)}))})),o.forEach((function(t,n){t.addEventListener("navigationModelInit",(function(e){r[n].value=e.detail.toIndex})),t.addEventListener("navigationModelChange",(function(e){r[n].value=e.detail.toIndex})),t.addEventListener("navigationModelReset",(function(e){r[n].value=e.detail.toIndex})),i.push(e.createLinear(t,"li",u[n]))})),a.addEventListener("change",(function(e){i.forEach((function(t){t.model.options.wrap=e.target.checked}))}))}()}();
//# sourceMappingURL=index.min.js.map