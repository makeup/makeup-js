{"version":3,"file":"makeup-navigation-emitter/index.min.js","mappings":"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","sources":["webpack://root/./packages/makeup-key-emitter/dist/mjs/index.js","webpack://root/./packages/makeup-next-id/dist/mjs/index.js","webpack://root/./packages/makeup-exit-emitter/dist/mjs/index.js","webpack://root/./packages/makeup-navigation-emitter/dist/mjs/index.js","webpack://root/webpack/bootstrap","webpack://root/webpack/runtime/define property getters","webpack://root/webpack/runtime/hasOwnProperty shorthand","webpack://root/webpack/runtime/make namespace object","webpack://root/./docs/makeup-navigation-emitter/index.compiled.js"],"sourcesContent":["function uncapitalizeFirstLetter(str) {\n  return str.charAt(0).toLowerCase() + str.slice(1);\n}\nfunction onKeyDownOrUp(evt, el, keyEventType) {\n  if (!evt.shiftKey) {\n    const key = evt.key;\n    switch (key) {\n      case \"Enter\":\n      case \"Escape\":\n      case \"PageUp\":\n      case \"PageDown\":\n      case \"End\":\n      case \"Home\":\n      case \"ArrowLeft\":\n      case \"ArrowUp\":\n      case \"ArrowRight\":\n      case \"ArrowDown\":\n        el.dispatchEvent(new CustomEvent(uncapitalizeFirstLetter(`${key}Key${keyEventType}`), {\n          detail: evt,\n          bubbles: true\n        }));\n        break;\n      case \" \":\n        el.dispatchEvent(new CustomEvent(`spacebarKey${keyEventType}`, {\n          detail: evt,\n          bubbles: true\n        }));\n        break;\n      default:\n        return;\n    }\n  }\n}\nfunction onKeyDown(e) {\n  onKeyDownOrUp(e, this, \"Down\");\n}\nfunction onKeyUp(e) {\n  onKeyDownOrUp(e, this, \"Up\");\n}\nfunction addKeyDown(el) {\n  el.addEventListener(\"keydown\", onKeyDown);\n}\nfunction addKeyUp(el) {\n  el.addEventListener(\"keyup\", onKeyUp);\n}\nfunction removeKeyDown(el) {\n  el.removeEventListener(\"keydown\", onKeyDown);\n}\nfunction removeKeyUp(el) {\n  el.removeEventListener(\"keyup\", onKeyUp);\n}\nfunction add(el) {\n  addKeyDown(el);\n  addKeyUp(el);\n}\nfunction remove(el) {\n  removeKeyDown(el);\n  removeKeyUp(el);\n}\nexport {\n  add,\n  addKeyDown,\n  addKeyUp,\n  remove,\n  removeKeyDown,\n  removeKeyUp\n};\n","const sequenceMap = {};\nconst defaultPrefix = \"nid\";\nconst randomPortion = createRandomPortion(3);\nfunction randomNumber(max) {\n  return Math.floor(Math.random() * max);\n}\nfunction createRandomPortion(size) {\n  const letters = \"abcdefghijklmnopqrstuvwxyz\";\n  const digits = \"0123456789\";\n  const allChars = letters + digits;\n  let portion = letters[randomNumber(25)];\n  for (let i = 1; i < size; i++) {\n    portion += allChars[randomNumber(35)];\n  }\n  return portion;\n}\nfunction src_default(el, prefix = defaultPrefix) {\n  const separator = prefix === \"\" ? \"\" : \"-\";\n  const key = `${prefix}${separator}${randomPortion}`;\n  sequenceMap[key] = sequenceMap[key] || 0;\n  if (!el.id) {\n    el.setAttribute(\"id\", `${key}-${sequenceMap[key]++}`);\n  }\n  return el.id;\n}\nexport {\n  src_default as default\n};\n","import nextID from \"makeup-next-id\";\nconst focusExitEmitters = {};\nfunction doFocusExit(el, fromElement, toElement) {\n  el.dispatchEvent(new CustomEvent(\"focusExit\", {\n    detail: { fromElement, toElement },\n    bubbles: false\n  }));\n}\nfunction onDocumentFocusIn(e) {\n  const newFocusElement = e.target;\n  const targetIsDescendant = this.el.contains(newFocusElement);\n  if (targetIsDescendant === true) {\n    this.currentFocusElement = newFocusElement;\n  } else {\n    window.removeEventListener(\"blur\", this.onWindowBlurListener);\n    document.removeEventListener(\"focusin\", this.onDocumentFocusInListener);\n    doFocusExit(this.el, this.currentFocusElement, newFocusElement);\n    this.currentFocusElement = null;\n  }\n}\nfunction onWindowBlur() {\n  doFocusExit(this.el, this.currentFocusElement, void 0);\n}\nfunction onWidgetFocusIn() {\n  document.addEventListener(\"focusin\", this.onDocumentFocusInListener);\n  window.addEventListener(\"blur\", this.onWindowBlurListener);\n}\nclass FocusExitEmitter {\n  constructor(el) {\n    this.el = el;\n    this.currentFocusElement = null;\n    this.onWidgetFocusInListener = onWidgetFocusIn.bind(this);\n    this.onDocumentFocusInListener = onDocumentFocusIn.bind(this);\n    this.onWindowBlurListener = onWindowBlur.bind(this);\n    this.el.addEventListener(\"focusin\", this.onWidgetFocusInListener);\n  }\n  removeEventListeners() {\n    window.removeEventListener(\"blur\", this.onWindowBlurListener);\n    document.removeEventListener(\"focusin\", this.onDocumentFocusInListener);\n    this.el.removeEventListener(\"focusin\", this.onWidgetFocusInListener);\n  }\n}\nfunction addFocusExit(el) {\n  let exitEmitter = null;\n  nextID(el);\n  if (!focusExitEmitters[el.id]) {\n    exitEmitter = new FocusExitEmitter(el);\n    focusExitEmitters[el.id] = exitEmitter;\n  }\n  return exitEmitter;\n}\nfunction removeFocusExit(el) {\n  const exitEmitter = focusExitEmitters[el.id];\n  if (exitEmitter) {\n    exitEmitter.removeEventListeners();\n    delete focusExitEmitters[el.id];\n  }\n}\nexport {\n  addFocusExit,\n  removeFocusExit\n};\n","import * as KeyEmitter from \"makeup-key-emitter\";\nimport * as ExitEmitter from \"makeup-exit-emitter\";\nconst dataSetKey = \"data-makeup-index\";\nconst defaultOptions = {\n  axis: \"both\",\n  autoInit: 0,\n  autoReset: null,\n  ignoreButtons: false,\n  wrap: false\n};\nconst itemFilter = (el) => !el.hidden;\nfunction clearData(els) {\n  els.forEach((el) => el.removeAttribute(dataSetKey));\n}\nfunction setData(els) {\n  els.forEach((el, index) => el.setAttribute(dataSetKey, index));\n}\nfunction isButton(el) {\n  return el.tagName.toLowerCase() === \"button\" || el.type === \"button\";\n}\nfunction onKeyPrev(e) {\n  if (isButton(e.detail.target) === false || this.options.ignoreButtons === false) {\n    if (!this.atStart()) {\n      this.index--;\n    } else if (this.options.wrap) {\n      this.index = this.filteredItems.length - 1;\n    }\n  }\n}\nfunction onKeyNext(e) {\n  if (isButton(e.detail.target) === false || this.options.ignoreButtons === false) {\n    if (!this.atEnd()) {\n      this.index++;\n    } else if (this.options.wrap) {\n      this.index = 0;\n    }\n  }\n}\nfunction onClick(e) {\n  let element = e.target;\n  let indexData = element.dataset.makeupIndex;\n  while (element !== this._el && !indexData) {\n    element = element.parentNode;\n    indexData = element.dataset.makeupIndex;\n  }\n  if (indexData !== void 0) {\n    this.index = indexData;\n  }\n}\nfunction onKeyHome(e) {\n  if (isButton(e.detail.target) === false || this.options.ignoreButtons === false) {\n    this.index = 0;\n  }\n}\nfunction onKeyEnd(e) {\n  if (isButton(e.detail.target) === false || this.options.ignoreButtons === false) {\n    this.index = this.filteredItems.length;\n  }\n}\nfunction onFocusExit() {\n  if (this.options.autoReset !== null) {\n    this.reset();\n  }\n}\nfunction onMutation() {\n  clearData(this.items);\n  setData(this.filteredItems);\n  this._el.dispatchEvent(new CustomEvent(\"navigationModelMutation\"));\n}\nclass NavigationModel {\n  constructor(el, itemSelector, selectedOptions) {\n    this.options = Object.assign({}, defaultOptions, selectedOptions);\n    this._el = el;\n    this._itemSelector = itemSelector;\n  }\n}\nclass LinearNavigationModel extends NavigationModel {\n  constructor(el, itemSelector, selectedOptions) {\n    super(el, itemSelector, selectedOptions);\n    if (this.options.autoInit !== null) {\n      this._index = this.options.autoInit;\n      this._el.dispatchEvent(new CustomEvent(\"navigationModelInit\", {\n        detail: {\n          items: this.filteredItems,\n          toIndex: this.options.autoInit\n        },\n        bubbles: false\n      }));\n    }\n  }\n  get items() {\n    return this._el.querySelectorAll(this._itemSelector);\n  }\n  get filteredItems() {\n    return Array.prototype.slice.call(this.items).filter(itemFilter);\n  }\n  get index() {\n    return this._index;\n  }\n  set index(newIndex) {\n    if (newIndex > -1 && newIndex < this.filteredItems.length && newIndex !== this.index) {\n      this._el.dispatchEvent(new CustomEvent(\"navigationModelChange\", {\n        detail: {\n          fromIndex: this.index,\n          toIndex: newIndex\n        },\n        bubbles: false\n      }));\n      this._index = newIndex;\n    }\n  }\n  reset() {\n    if (this.options.autoReset !== null) {\n      this._index = this.options.autoReset;\n      this._el.dispatchEvent(new CustomEvent(\"navigationModelReset\", {\n        detail: {\n          toIndex: this.options.autoReset\n        },\n        bubbles: false\n      }));\n    }\n  }\n  atEnd() {\n    return this.index === this.filteredItems.length - 1;\n  }\n  atStart() {\n    return this.index <= 0;\n  }\n}\nclass NavigationEmitter {\n  constructor(el, model) {\n    this.model = model;\n    this.el = el;\n    this._keyPrevListener = onKeyPrev.bind(model);\n    this._keyNextListener = onKeyNext.bind(model);\n    this._keyHomeListener = onKeyHome.bind(model);\n    this._keyEndListener = onKeyEnd.bind(model);\n    this._clickListener = onClick.bind(model);\n    this._focusExitListener = onFocusExit.bind(model);\n    this._observer = new MutationObserver(onMutation.bind(model));\n    setData(model.filteredItems);\n    KeyEmitter.addKeyDown(this.el);\n    ExitEmitter.addFocusExit(this.el);\n    const axis = model.options.axis;\n    if (axis === \"both\" || axis === \"x\") {\n      this.el.addEventListener(\"arrowLeftKeyDown\", this._keyPrevListener);\n      this.el.addEventListener(\"arrowRightKeyDown\", this._keyNextListener);\n    }\n    if (axis === \"both\" || axis === \"y\") {\n      this.el.addEventListener(\"arrowUpKeyDown\", this._keyPrevListener);\n      this.el.addEventListener(\"arrowDownKeyDown\", this._keyNextListener);\n    }\n    this.el.addEventListener(\"homeKeyDown\", this._keyHomeListener);\n    this.el.addEventListener(\"endKeyDown\", this._keyEndListener);\n    this.el.addEventListener(\"click\", this._clickListener);\n    this.el.addEventListener(\"focusExit\", this._focusExitListener);\n    this._observer.observe(this.el, {\n      childList: true,\n      subtree: true,\n      attributeFilter: [\"hidden\"],\n      attributes: true\n    });\n  }\n  destroy() {\n    KeyEmitter.removeKeyDown(this.el);\n    ExitEmitter.removeFocusExit(this.el);\n    this.el.removeEventListener(\"arrowLeftKeyDown\", this._keyPrevListener);\n    this.el.removeEventListener(\"arrowRightKeyDown\", this._keyNextListener);\n    this.el.removeEventListener(\"arrowUpKeyDown\", this._keyPrevListener);\n    this.el.removeEventListener(\"arrowDownKeyDown\", this._keyNextListener);\n    this.el.removeEventListener(\"homeKeyDown\", this._keyHomeListener);\n    this.el.removeEventListener(\"endKeyDown\", this._keyEndListener);\n    this.el.removeEventListener(\"click\", this._clickListener);\n    this.el.removeEventListener(\"focusExit\", this._focusExitListener);\n    this._observer.disconnect();\n  }\n}\nfunction createLinear(el, itemSelector, selectedOptions) {\n  const model = new LinearNavigationModel(el, itemSelector, selectedOptions);\n  return new NavigationEmitter(el, model);\n}\nexport {\n  createLinear\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\n\nvar NavigationEmitter = _interopRequireWildcard(require(\"../../packages/makeup-navigation-emitter\"));\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\n// CJS\n//const NavigationEmitter = require('../../packages/makeup-navigation-emitter');\n// MJS\nvar emitters = [];\nvar appender = document.getElementById('appender');\nvar widgetEls = document.querySelectorAll('.widget');\nvar consoleEls = document.querySelectorAll('.console');\nvar wrapCheckbox = document.getElementById('wrap');\nvar options = [{}, {\n  autoInit: -1,\n  autoReset: -1\n}, {\n  autoInit: -1,\n  autoReset: -1\n}];\nappender.addEventListener('click', function () {\n  widgetEls.forEach(function (el) {\n    var listEl = el.querySelector('ul');\n    var listItem = document.createElement('li');\n    listItem.innerText = \"Item \".concat(parseInt(listEl.querySelectorAll('li').length, 10));\n    listEl.appendChild(listItem);\n  });\n});\nwidgetEls.forEach(function (el, index) {\n  el.addEventListener('navigationModelInit', function (e) {\n    consoleEls[index].value = e.detail.toIndex;\n  });\n  el.addEventListener('navigationModelChange', function (e) {\n    consoleEls[index].value = e.detail.toIndex;\n  });\n  el.addEventListener('navigationModelReset', function (e) {\n    consoleEls[index].value = e.detail.toIndex;\n  });\n  emitters.push(NavigationEmitter.createLinear(el, 'li', options[index]));\n});\nwrapCheckbox.addEventListener('change', function (e) {\n  emitters.forEach(function (emitter) {\n    emitter.model.options.wrap = e.target.checked;\n  });\n}); // emitters[0].model.index = 1;\n// emitters[1].model.index = 1;"],"names":["onKeyDown","e","evt","el","keyEventType","shiftKey","key","dispatchEvent","CustomEvent","str","charAt","toLowerCase","slice","detail","bubbles","onKeyDownOrUp","this","sequenceMap","randomPortion","size","portion","randomNumber","i","letters","createRandomPortion","max","Math","floor","random","focusExitEmitters","doFocusExit","fromElement","toElement","onDocumentFocusIn","newFocusElement","target","contains","currentFocusElement","window","removeEventListener","onWindowBlurListener","document","onDocumentFocusInListener","onWindowBlur","onWidgetFocusIn","addEventListener","FocusExitEmitter","constructor","onWidgetFocusInListener","bind","removeEventListeners","dataSetKey","defaultOptions","axis","autoInit","autoReset","ignoreButtons","wrap","itemFilter","hidden","setData","els","forEach","index","setAttribute","isButton","tagName","type","onKeyPrev","options","atStart","filteredItems","length","onKeyNext","atEnd","onClick","element","indexData","dataset","makeupIndex","_el","parentNode","onKeyHome","onKeyEnd","onFocusExit","reset","onMutation","items","removeAttribute","LinearNavigationModel","itemSelector","selectedOptions","Object","assign","_itemSelector","super","_index","toIndex","querySelectorAll","Array","prototype","call","filter","newIndex","fromIndex","NavigationEmitter","model","_keyPrevListener","_keyNextListener","_keyHomeListener","_keyEndListener","_clickListener","_focusExitListener","_observer","MutationObserver","exitEmitter","prefix","id","observe","childList","subtree","attributeFilter","attributes","destroy","disconnect","createLinear","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","obj","prop","hasOwnProperty","r","Symbol","toStringTag","value","nodeInterop","__esModule","default","cache","_getRequireWildcardCache","has","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","desc","set","_interopRequireWildcard","WeakMap","cacheBabelInterop","cacheNodeInterop","emitters","appender","getElementById","widgetEls","consoleEls","wrapCheckbox","listEl","querySelector","listItem","createElement","innerText","concat","parseInt","appendChild","push","emitter","checked"],"sourceRoot":""}