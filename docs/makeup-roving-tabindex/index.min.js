!function(){var t={9455:function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=n(8761),r={};function s(t,e,n){t.dispatchEvent(new CustomEvent("focusExit",{detail:{fromElement:e,toElement:n},bubbles:!1}))}function u(t){var e=t.target;!0===this.el.contains(e)?this.currentFocusElement=e:(window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),s(this.el,this.currentFocusElement,e),this.currentFocusElement=null)}function a(){s(this.el,this.currentFocusElement,void 0)}function c(){document.addEventListener("focusin",this.onDocumentFocusInListener),window.addEventListener("blur",this.onWindowBlurListener)}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.el=e,this.currentFocusElement=null,this.onWidgetFocusInListener=c.bind(this),this.onDocumentFocusInListener=u.bind(this),this.onWindowBlurListener=a.bind(this),this.el.addEventListener("focusin",this.onWidgetFocusInListener)}var e,n;return e=t,(n=[{key:"removeEventListeners",value:function(){window.removeEventListener("blur",this.onWindowBlurListener),document.removeEventListener("focusin",this.onDocumentFocusInListener),this.el.removeEventListener("focusin",this.onWidgetFocusInListener)}}])&&i(e.prototype,n),t}();t.exports={addFocusExit:function(t){var e=null;return o(t),r[t.id]||(e=new l(t),r[t.id]=e),e},removeFocusExit:function(t){var e=r[t.id];e&&(e.removeEventListeners(),delete r[t.id])}}},6001:function(t,e,n){"use strict";var i=n(7893);function o(t,e,n){if(!t.shiftKey){var o=i.keyCodeToKeyMap[t.keyCode];switch(o){case"Enter":case"Escape":case"Spacebar":case"PageUp":case"PageDown":case"End":case"Home":case"ArrowLeft":case"ArrowUp":case"ArrowRight":case"ArrowDown":e.dispatchEvent(new CustomEvent(i.uncapitalizeFirstLetter("".concat(o,"Key").concat(n)),{detail:t,bubbles:!0}));break;default:return}}}function r(t){o(t,this,"Down")}function s(t){o(t,this,"Up")}function u(t){t.addEventListener("keydown",r)}function a(t){t.addEventListener("keyup",s)}function c(t){t.removeEventListener("keydown",r)}function l(t){t.removeEventListener("keyup",s)}t.exports={addKeyDown:u,addKeyUp:a,removeKeyDown:c,removeKeyUp:l,add:function(t){u(t),a(t)},remove:function(t){c(t),l(t)}}},7893:function(t){"use strict";t.exports={keyCodeToKeyMap:{13:"Enter",27:"Escape",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},uncapitalizeFirstLetter:function(t){return t.charAt(0).toLowerCase()+t.slice(1)}}},8312:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=n(6001),d=n(9455),f="data-makeup-index",h={axis:"both",autoInit:0,autoReset:null,ignoreButtons:!1,wrap:!1},v=function(t){return!t.hidden};function p(t){t.forEach((function(t,e){return t.setAttribute(f,e)}))}function y(t){return"button"===t.tagName.toLowerCase()||"button"===t.type}function m(t){!1!==y(t.detail.target)&&!1!==this.options.ignoreButtons||(this.atStart()?this.options.wrap&&(this.index=this.filteredItems.length-1):this.index--)}function b(t){!1!==y(t.detail.target)&&!1!==this.options.ignoreButtons||(this.atEnd()?this.options.wrap&&(this.index=0):this.index++)}function E(t){for(var e=t.target,n=e.dataset.makeupIndex;e!==this._el&&!n;)n=(e=e.parentNode).dataset.makeupIndex;void 0!==n&&(this.index=n)}function L(t){!1!==y(t.detail.target)&&!1!==this.options.ignoreButtons||(this.index=0)}function w(t){!1!==y(t.detail.target)&&!1!==this.options.ignoreButtons||(this.index=this.filteredItems.length)}function _(){null!==this.options.autoReset&&this.reset()}function g(){this.items.forEach((function(t){return t.removeAttribute(f)})),p(this.filteredItems),this._el.dispatchEvent(new CustomEvent("navigationModelMutation"))}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(o,(function t(e,n,i){c(this,t),this.options=Object.assign({},h,i),this._el=e,this._itemSelector=n}));var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=a(e);if(n){var o=a(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return u(this,t)});function o(t,e,n){var r;return c(this,o),null!==(r=i.call(this,t,e,n)).options.autoInit&&(r._index=r.options.autoInit,r._el.dispatchEvent(new CustomEvent("navigationModelInit",{detail:{items:r.filteredItems,toIndex:r.options.autoInit},bubbles:!1}))),r}return r(o,[{key:"items",get:function(){return this._el.querySelectorAll(this._itemSelector)}},{key:"filteredItems",get:function(){return Array.prototype.slice.call(this.items).filter(v)}},{key:"index",get:function(){return this._index},set:function(t){t>-1&&t<this.filteredItems.length&&t!==this.index&&(this._el.dispatchEvent(new CustomEvent("navigationModelChange",{detail:{fromIndex:this.index,toIndex:t},bubbles:!1})),this._index=t)}},{key:"reset",value:function(){null!==this.options.autoReset&&(this._index=this.options.autoReset,this._el.dispatchEvent(new CustomEvent("navigationModelReset",{detail:{toIndex:this.options.autoReset},bubbles:!1})))}},{key:"atEnd",value:function(){return this.index===this.filteredItems.length-1}},{key:"atStart",value:function(){return this.index<=0}}]),o}(),k=function(){function t(e,n){c(this,t),this.model=n,this.el=e,this._keyPrevListener=m.bind(n),this._keyNextListener=b.bind(n),this._keyHomeListener=L.bind(n),this._keyEndListener=w.bind(n),this._clickListener=E.bind(n),this._focusExitListener=_.bind(n),this._observer=new MutationObserver(g.bind(n)),p(n.filteredItems),l.addKeyDown(this.el),d.addFocusExit(this.el);var i=n.options.axis;"both"!==i&&"x"!==i||(this.el.addEventListener("arrowLeftKeyDown",this._keyPrevListener),this.el.addEventListener("arrowRightKeyDown",this._keyNextListener)),"both"!==i&&"y"!==i||(this.el.addEventListener("arrowUpKeyDown",this._keyPrevListener),this.el.addEventListener("arrowDownKeyDown",this._keyNextListener)),this.el.addEventListener("homeKeyDown",this._keyHomeListener),this.el.addEventListener("endKeyDown",this._keyEndListener),this.el.addEventListener("click",this._clickListener),this.el.addEventListener("focusExit",this._focusExitListener),this._observer.observe(this.el,{childList:!0,subtree:!0,attributeFilter:["hidden"],attributes:!0})}return r(t,[{key:"destroy",value:function(){l.removeKeyDown(this.el),d.removeFocusExit(this.el),this.el.removeEventListener("arrowLeftKeyDown",this._keyPrevListener),this.el.removeEventListener("arrowRightKeyDown",this._keyNextListener),this.el.removeEventListener("arrowUpKeyDown",this._keyPrevListener),this.el.removeEventListener("arrowDownKeyDown",this._keyNextListener),this.el.removeEventListener("homeKeyDown",this._keyHomeListener),this.el.removeEventListener("endKeyDown",this._keyEndListener),this.el.removeEventListener("click",this._clickListener),this.el.removeEventListener("focusExit",this._focusExitListener),this._observer.disconnect()}}],[{key:"createLinear",value:function(e,n,i){return new t(e,new x(e,n,i))}}]),t}();t.exports=k},8761:function(t,e,n){"use strict";var i=n(1043),o={},r=i(3);t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nid",n=""===e?"":"-",i="".concat(e).concat(n).concat(r);return o[i]=o[i]||0,t.id||t.setAttribute("id","".concat(i,"-").concat(o[i]++)),t.id}},1043:function(t){for(var e="-_",n=36;n--;)e+=n.toString(36);for(n=36;n---10;)e+=n.toString(36).toUpperCase();t.exports=function(t){var i="";for(n=t||21;n--;)i+=e[64*Math.random()|0];return i}},9526:function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}var l=n(8312),d={autoReset:null,index:0,wrap:!1,axis:"both"},f=function(t){return Array.prototype.slice.call(t)};function h(){var t=this._navigationEmitter.model.index;this.filteredItems.forEach((function(e,n){return e.setAttribute("tabindex",n!==t?"-1":"0")}))}function v(t){var e=t.detail.items;f(e).filter((function(e,n){return n!==t.detail.toIndex})).forEach((function(t){return t.setAttribute("tabindex","-1")})),e[t.detail.toIndex]&&e[t.detail.toIndex].setAttribute("tabindex","0")}function p(t){this._index=t.detail.toIndex;var e=this.filteredItems;f(e).filter((function(e,n){return n!==t.detail.toIndex})).forEach((function(t){return t.setAttribute("tabindex","-1")})),e[t.detail.toIndex].setAttribute("tabindex","0")}function y(t){var e=this.filteredItems,n=e[t.detail.fromIndex],i=e[t.detail.toIndex];n&&n.setAttribute("tabindex","-1"),i&&(i.setAttribute("tabindex","0"),i.focus()),this._el.dispatchEvent(new CustomEvent("rovingTabindexChange",{detail:{fromIndex:t.detail.fromIndex,toIndex:t.detail.toIndex}}))}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(a,t);var e,n,i=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=s(e);if(n){var o=s(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return r(this,t)});function a(t,e,n){var o;return u(this,a),(o=i.call(this,t))._options=Object.assign({},d,n),o._itemSelector=e,o._navigationEmitter=l.createLinear(t,e,{autoInit:o._options.index,autoReset:o._options.autoReset,wrap:o._options.wrap,axis:o._options.axis}),o}return c(a,[{key:"index",get:function(){return this._navigationEmitter.model.index},set:function(t){this._navigationEmitter.model.index=t}},{key:"wrap",set:function(t){this._navigationEmitter.model.options.wrap=t}},{key:"filteredItems",get:function(){return this._navigationEmitter.model.filteredItems}},{key:"items",get:function(){return this._navigationEmitter.model.items}},{key:"_items",get:function(){return this.items}},{key:"reset",value:function(){this._navigationEmitter.model.reset()}},{key:"destroy",value:function(){this._navigationEmitter.destroy()}}]),a}(function(){function t(e){u(this,t),this._el=e,this._onMutationListener=h.bind(this),this._onChangeListener=y.bind(this),this._onInitListener=v.bind(this),this._onResetListener=p.bind(this),this._el.addEventListener("navigationModelMutation",this._onMutationListener),this._el.addEventListener("navigationModelChange",this._onChangeListener),this._el.addEventListener("navigationModelInit",this._onInitListener),this._el.addEventListener("navigationModelReset",this._onResetListener)}return c(t,[{key:"destroy",value:function(){this._el.removeEventListener("navigationModelMutation",this._onMutationListener),this._el.removeEventListener("navigationModelChange",this._onChangeListener),this._el.removeEventListener("navigationModelInit",this._onInitListener),this._el.removeEventListener("navigationModelReset",this._onResetListener)}}]),t}());t.exports={createLinear:function(t,e,n){return new m(t,e,n)}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}!function(){"use strict";var t=n(9526),e=[],i=document.getElementById("appender"),o=document.getElementById("incrementer"),r=document.getElementById("decrementer"),s=document.querySelectorAll(".widget"),u=document.getElementById("wrap");i.addEventListener("click",(function(){s.forEach((function(t){var e=document.createElement("li");e.innerText="Item ".concat(parseInt(t.querySelectorAll("li").length,10)),t.children[0].appendChild(e)}))})),o.addEventListener("click",(function(){s.forEach((function(t,n){e[n].index++}))})),r.addEventListener("click",(function(){s.forEach((function(t,n){e[n].index--}))})),s.forEach((function(n){e.push(t.createLinear(n,"li",{index:0})),n.addEventListener("rovingTabindexChange",(function(t){console.log(t)}))})),u.addEventListener("change",(function(t){e.forEach((function(e){e.wrap=t.target.checked}))}))}()}();
//# sourceMappingURL=index.min.js.map