{"version":3,"sources":["webpack://root/./docs/makeup-switch/index.compiled.js","webpack://root/./packages/makeup-switch/dist/index.js","webpack://root/webpack/bootstrap"],"names":["MakeupSwitch","_arrayLikeToArray","arr","len","length","i","arr2","Array","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","defaultOptions","bem","control","customElementMode","_onKeyDown","e","this","disabled","keyCode","preventDefault","toggle","checked","_onClick","_onMutation","mutationsList","_step","_iterator","o","allowArrayLike","it","Symbol","iterator","isArray","minLen","n","prototype","toString","call","slice","constructor","name","from","test","_unsupportedIterableToArray","F","s","done","value","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","_createForOfIteratorHelper","mutation","type","el","dispatchEvent","CustomEvent","detail","attributeName","module","exports","_class","selectedOptions","instance","Constructor","_classCallCheck","_options","assign","_onClickListener","bind","_onKeyDownListener","_onMutationListener","_focusableElement","setAttribute","classList","add","_mutationObserver","MutationObserver","_observeMutations","_observeEvents","protoProps","observe","attributes","childList","subtree","disconnect","addEventListener","removeEventListener","get","querySelector","concat","getAttribute","set","isChecked","_unobserveMutations","composed","on","isDisabled","theId","labellingEl","document","getElementById","labelledby","innerText","label","theLabel","_unobserveEvents","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","window","onload","querySelectorAll","forEach","console","log"],"mappings":"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","file":"makeup-switch/index.min.js","sourcesContent":["\"use strict\";\n\nvar MakeupSwitch = require('../../packages/makeup-switch');\n\nwindow.onload = function () {\n  document.querySelectorAll('.switch').forEach(function (el, i) {\n    var widget = new MakeupSwitch(el);\n    el.addEventListener('makeup-switch-toggle', function (e) {\n      console.log(e.type, e.detail);\n    });\n    el.addEventListener('makeup-switch-mutation', function (e) {\n      console.log(e.type, e.detail);\n    });\n  });\n};","'use strict';\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar defaultOptions = {\n  bem: {\n    control: 'switch__control'\n  },\n  customElementMode: false\n};\n\nmodule.exports = /*#__PURE__*/function () {\n  function _class(el, selectedOptions) {\n    _classCallCheck(this, _class);\n\n    this._options = Object.assign({}, defaultOptions, selectedOptions);\n    this.el = el;\n    this._onClickListener = _onClick.bind(this);\n    this._onKeyDownListener = _onKeyDown.bind(this);\n    this._onMutationListener = _onMutation.bind(this);\n\n    if (this.disabled) {\n      this._focusableElement.setAttribute('tabindex', '-1');\n    }\n\n    this.el.classList.add('switch--js');\n\n    if (!this._options.customElementMode) {\n      this._mutationObserver = new MutationObserver(this._onMutationListener);\n\n      this._observeMutations();\n\n      this._observeEvents();\n    }\n  }\n\n  _createClass(_class, [{\n    key: \"_observeMutations\",\n    value: function _observeMutations() {\n      if (!this._options.customElementMode) {\n        this._mutationObserver.observe(this._focusableElement, {\n          attributes: true,\n          childList: false,\n          subtree: false\n        });\n      }\n    }\n  }, {\n    key: \"_unobserveMutations\",\n    value: function _unobserveMutations() {\n      if (!this._options.customElementMode) {\n        this._mutationObserver.disconnect();\n      }\n    }\n  }, {\n    key: \"_observeEvents\",\n    value: function _observeEvents() {\n      this._focusableElement.addEventListener('click', this._onClickListener);\n\n      this._focusableElement.addEventListener('keydown', this._onKeyDownListener);\n    }\n  }, {\n    key: \"_unobserveEvents\",\n    value: function _unobserveEvents() {\n      this._focusableElement.removeEventListener('click', this._onClickListener);\n\n      this._focusableElement.removeEventListener('keydown', this._onKeyDownListener);\n    }\n  }, {\n    key: \"_focusableElement\",\n    get: function get() {\n      return this.el.querySelector(\".\".concat(this._options.bem.control));\n    }\n  }, {\n    key: \"checked\",\n    get: function get() {\n      return this._focusableElement.getAttribute('aria-checked') === 'true';\n    },\n    set: function set(isChecked) {\n      this._unobserveMutations();\n\n      this._focusableElement.setAttribute('aria-checked', isChecked.toString());\n\n      this.el.dispatchEvent(new CustomEvent('makeup-switch-toggle', {\n        composed: true,\n        detail: {\n          on: this.checked\n        }\n      }));\n\n      this._observeMutations();\n    }\n  }, {\n    key: \"disabled\",\n    get: function get() {\n      return this._focusableElement.getAttribute('aria-disabled') === 'true';\n    },\n    set: function set(isDisabled) {\n      this._unobserveMutations();\n\n      this._focusableElement.setAttribute('aria-disabled', isDisabled.toString());\n\n      this._focusableElement.setAttribute('tabindex', isDisabled ? '-1' : '0');\n\n      this._observeMutations();\n    }\n  }, {\n    key: \"labelledby\",\n    get: function get() {\n      return this._focusableElement.getAttribute('aria-labelledby');\n    },\n    set: function set(theId) {\n      this._unobserveMutations();\n\n      this._focusableElement.setAttribute('aria-labelledby', theId); // customElementMode a11y workaround\n      // aria-labelledby cannot resolve element id references that live outside of the Shadow DOM\n      // as a workaround we can use aria-label\n\n\n      if (this._options.customElementMode) {\n        var labellingEl = document.getElementById(this.labelledby);\n\n        if (labellingEl && labellingEl.innerText !== '') {\n          this.label = labellingEl.innerText;\n        }\n      }\n\n      this._observeMutations();\n    }\n  }, {\n    key: \"label\",\n    get: function get() {\n      return this._focusableElement.getAttribute('aria-label');\n    },\n    set: function set(theLabel) {\n      this._unobserveMutations();\n\n      this._focusableElement.setAttribute('aria-label', theLabel);\n\n      this._observeMutations();\n    }\n  }, {\n    key: \"toggle\",\n    value: function toggle() {\n      this.checked = !this.checked;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this._unobserveMutations();\n\n      this._unobserveEvents();\n\n      this._onClickListener = null;\n      this._onKeyDownListener = null;\n      this._onMutationListener = null;\n    }\n  }]);\n\n  return _class;\n}();\n\nfunction _onKeyDown(e) {\n  if (!this.disabled) {\n    switch (e.keyCode) {\n      case 32:\n        e.preventDefault();\n        this.toggle();\n        break;\n\n      case 37:\n        this.checked = false;\n        break;\n\n      case 39:\n        this.checked = true;\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n\nfunction _onClick() {\n  if (!this.disabled) {\n    this.toggle();\n  }\n}\n\nfunction _onMutation(mutationsList) {\n  var _iterator = _createForOfIteratorHelper(mutationsList),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var mutation = _step.value;\n\n      if (mutation.type === 'attributes') {\n        this.el.dispatchEvent(new CustomEvent('makeup-switch-mutation', {\n          detail: {\n            attributeName: mutation.attributeName\n          }\n        }));\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n"],"sourceRoot":""}